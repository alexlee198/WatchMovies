<div class="details-wrapper" *ngIf="show">
  <div class="details-container" [class.loaded]="show">
    
    <!-- Trailer or Fallback -->
    <div class="video-section">
      <div class="video-placeholder" *ngIf="!show?.trailer">
        <p>Trailer not available</p>
      </div>
      <div class="video-player" *ngIf="show?.trailer">
        <iframe width="100%" height="600" [src]="show.trailer ? (show.trailer | safe) : ''" [frameBorder]="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
      </div>
    </div>

    <!-- Info Section -->
    <div class="info-container">
      <div class="poster-box">
        <img [src]="show.img" />
      </div>
      <div class="movie-info">
        <h1>{{ show.name }}</h1>
        <p><strong>Description:</strong> {{ show.description }}</p>
        <p><strong>Genre:</strong> {{ show.genres.join(', ') }}</p>
        <p><strong>Cast:</strong> {{ show.cast.join(', ') }}</p>
        <p><strong>Duration:</strong> {{ show.runtime }}</p>
        <p><strong>Year:</strong> {{ show.year }}</p>
        <p><strong>Season:</strong> {{ show.season }}</p>
        <p><strong>Episode:</strong> {{ show.episode }}</p>
      </div>
    </div>

    <!-- Recommendations -->
    <div class="recommended-section" *ngIf="recommendedShows.length">
      <div class="title-box">
        <h1 class="title">You May Also Like</h1>
      </div>
      <div class="recommended-list">
        <div class="recommended-card"  *ngFor="let rec of recommendedShows" [routerLink]="['/shows', rec.id]">
          <img [src]="rec.img" [alt]="rec.name" />
        </div>
      </div>
    </div>
  </div>
</div>
